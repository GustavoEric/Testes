' Gambas class file

'copie e cole este código na seção de variáveis 
Private SComm As SerialPort 
Const None As Integer = 0
Private Rx As String 
Private Led1 As Boolean

Public Sub btnLed1_Click()
  'Write #SComm, "a"
  btnLed1.Text = "DesativaLED1"
  If (Led1 == False) Then
    Write #SComm, "a" 
  Led1 = True
  Else
    Write #SComm, "f"
  Endif

End

Public Sub Form_Open()
   Led1 = False

End

Public Sub btnConectar_Click()
'configura a porta de conexão e sua velocidade
SComm = New SerialPort As "SComm"
SComm.PortName = "/dev/ttyUSB0"
SComm.Speed = 9600
SComm.Parity = 0
SComm.DataBits = "8"
SComm.StopBits = "1"
SComm.FlowControl = 0
SComm.Open()

End

Public Sub btnApagar_Click()

  Write #SComm, "f"

End

Public Sub btnLed2_Click()

  Write #SComm, "s"

End

Public Sub btnLed3_Click()

  Write #SComm, "d"

End
